
comment \/\*([^*]|\*[^/])*\*+\/
id [A-Za-z_][A-Za-z0-9_]*
digit [0-9]
whitespace [ \t\n\r]+


{comment} 			{return COMMENT;}
"if"					{return IF;}
"else"				{return ELSE;}
"while"				{return WHILE;}
"int"					{return INT;}
"float"				{return FLOAT;}
{id}				{return ID;}
[0-9]+	 			{return ICONST;}
[0-9]*\.[0-9]+		{return FCONST;}
"!="				{return NE;}
"+"  				{return PLUS;}
"-"					{return MINUS;}
"*"					{return MULT;}
"/"					{return DIV;}
"="					{return ASSIGN;}
"<"					{return LT;}
">"					{return GT;}
"<="				{return LE;}
">="				{return GE;}
"=="				{return EQ;}
";"					{return SEMICOLON;}
"("					{return LPAREN;}	
")"					{return RPAREN;}
","					{return COMMA;}
"{"					{return LBRACE;}
"}"					{return RBRACE;}
"["					{return LBRACKET;}
"]"					{return RBRACKET;}





%token ERROR AND OR NOT
%token SEMICOLON LPAREN RPAREN COMMA LBRACE RBRACE LBRACKET RBRACKET
%token ASSIGN LT GT LE GE EQ NE
%token INT FLOAT IF ELSE WHILE
%token ID ICONST FCONST
%left  PLUS
%left  MINUS
%left  DIV
%left  MULT
%token COMMENT




input :			statement input
				| statement

statement :		declaration
				| assign
				| iteration			
				| conditional
				| LBRACE statement RBRACE
				| declaration statement
				| assign statement
				| iteration statement			
				| conditional statement

declaration :	type id multidec SEMICOLON

assign :		id ASSIGN number SEMICOLON
				| id ASSIGN number math SEMICOLON
				| id ASSIGN id SEMICOLON
				| id ASSIGN id math SEMICOLON

iteration :		while statement

conditional :	if statement ELSE statement
				| if statement

if :			IF eqparens

while :			WHILE eqparens

eqparens :		LPAREN equality RPAREN
				| LPAREN NOT eqparens RPAREN
				| LPAREN eqparens RPAREN
				| LPAREN NOT equality RPAREN
				| LPAREN and RPAREN
				| LPAREN or RPAREN

and :			equality AND equality
				| equality AND and
				| equality AND or

or :			equality OR equality
				| equality OR or
				| equality OR and				

equality :		id EQ id 
				| id EQ number 
				| id NE id 
				| id NE number 	
				| id GE id 
				| id GE number 
				| id LE id 
				| id LE number 		
				| id GT id 
				| id GT number 
				| id LT id 
				| id LT number 
				| NOT id 
				| NOT number
				| id
				| number
				
id :			ID arraydec
				| ID

type :			INT
				| FLOAT

multidec :		COMMA id multidec
				| epsilon

number :		ICONST
				| FCONST

math :			PLUS number
				| MINUS number
				| DIV number
				| MULT number
				| PLUS number math
				| MINUS number math
				| DIV number math
				| MULT number math
				| PLUS id
				| MINUS id
				| DIV id
				| MULT id
				| PLUS id math
				| MINUS id math
				| DIV id math
				| MULT id math

arraydec :		LBRACKET ICONST RBRACKET
				| LBRACKET ICONST RBRACKET arraydec	
				| LBRACKET ID RBRACKET
				| LBRACKET ID RBRACKET arraydec	
epsilon :